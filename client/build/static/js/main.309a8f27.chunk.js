(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(73)},45:function(e,t,a){},50:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(33),r=a.n(c),s=(a(45),a(2)),i=a(3),l=a(6),m=a(4),u=a(5),p=a(76),d=a(77),h=a(75),f=a(8),b=a(18),g=a(35),y=a(14),v="GET_ERRORS",E="CLEAR_ERRORS",O="GET_ACTIVE_POST_COMMENTS",j="CLEAR_ACTIVE_POST_COMMENTS",C="SET_EDIT_COMMENT",N="LOADING_COMMENTS",x="GET_ALL_CATEGORIES",P="SET_ACTIVE_CATEGORY",k="LOADING_CATEGORIES",A="GET_ALL_POSTS",S="SET_ACTIVE_POST",w="GET_ACTIVE_CATEGORY_POSTS",T={allCategories:[],activeCategory:"",loading:!1};var I={allPosts:[],activePost:{},activeCategoryPosts:[],loading:!1};var _={activePostComments:[],editComment:{},loading:!1};var V=Object(b.combineReducers)({category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(y.a)({},e,{loading:!0});case x:return Object(y.a)({},e,{allCategories:t.payload,loading:!1});case P:return Object(y.a)({},e,{activeCategory:t.selection,loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(y.a)({},e,{allPosts:t.payload,loading:!1});case w:return Object(y.a)({},e,{activeCategoryPosts:t.payload,loading:!1});case S:return Object(y.a)({},e,{activePost:t.payload,loading:!1});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(y.a)({},e,{activePostComments:t.payload});case j:return Object(y.a)({},e,{activePostComments:[]});case C:return Object(y.a)({},e,{editComment:t.payload});case N:return Object(y.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;case E:return{};default:return e}}}),L=a(36),D=[g.a],M=Object(b.createStore)(V,{},Object(L.composeWithDevTools)(b.applyMiddleware.apply(void 0,D))),R=(a(50),a(74)),G=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.activeCategory,t=e.toUpperCase();return o.a.createElement("nav",{className:"navbar navbar-expand-sm p-3"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"navbar-nav nav-tabs"},o.a.createElement(R.a,{className:"nav-link nav-item",to:"/"},"HOME"),o.a.createElement(R.a,{className:"nav-link nav-item",to:"/create"},"CREATE POST"),e&&o.a.createElement(R.a,{className:"nav-link nav-item",to:"/category/".concat(e)},"TO ",t," PAGE"))))}}]),t}(n.Component),Y=Object(f.b)(function(e){return{activeCategory:e.category.activeCategory}})(G),U=a(11),W=a.n(U),B=function(){return function(e){e(H()),W.a.get("/api/categories/categories").then(function(t){return e({type:x,payload:t.data})}).catch(function(t){return e({type:x,payload:null})})}},J=function(e){return{type:P,selection:e}},H=function(){return{type:k}},q=function(e){return function(t){t(Q()),W.a.get("/api/posts/".concat(e)).then(function(e){return t({type:S,payload:e.data})}).catch(function(e){return t({type:S,payload:null})})}},z=function(){return{type:S,payload:{}}},F=function(e,t){return function(a){W.a.post("/api/posts/".concat(e),t).then(function(e){return a({type:S,payload:e.data})}).catch(function(e){return a({type:S,payload:null})})}},K=function(){return{type:E}},Q=function(){return{type:"LOADING_POSTS"}},X=function(e){return function(t){t($()),W.a.get("/api/posts/".concat(e,"/comments")).then(function(e){return t({type:O,payload:e.data})}).catch(function(e){return t({type:O,payload:null})})}},Z=function(){return{type:j}},$=function(){return function(){return{type:N}}},ee=a(12),te=a.n(ee),ae=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.category,t=e.name.toUpperCase();return o.a.createElement("div",{className:"card card-body mx-3 my-3 link-width"},o.a.createElement(R.a,{to:"/category/".concat(e.name),className:te()("btn btn-lg",{"btn-warning":"movies"===e.name},{"btn-danger":"books"===e.name},{"btn-primary":"games"===e.name})},t))}}]),t}(n.Component),ne=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props.post,a=t.category.toUpperCase();return e=t.deleted?"Post Deleted":t.title,o.a.createElement("div",{className:"card card-body mx-3 my-3 link-width"},o.a.createElement("div",null,o.a.createElement("h4",{className:"center-item lead"},a)),o.a.createElement(R.a,{to:"/post/".concat(t._id),className:te()("btn btn-lg",{"btn-warning":"movies"===t.category},{"btn-danger":"books"===t.category},{"btn-primary":"games"===t.category})},e))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={filter:"timestamp"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.clearActivePostComments(),this.props.clearActivePost(),this.props.getAllCategories(),this.props.getAllPosts(),this.props.setActiveCategory("")}},{key:"render",value:function(){var e,t,a=this.props,n=a.categories,c=a.categoriesLoading,r=a.postsLoading,s=a.posts;return e=null===n||c?o.a.createElement("h1",{className:"display-4 center-item"},"Loading"):n.map(function(e){return o.a.createElement(ae,{key:e._id,category:e})}),t=null===s||r?o.a.createElement("h1",{className:"display-4 center-item"},"Loading"):s.map(function(e,t){return o.a.createElement(ne,{key:t,post:e})}),o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"mb-4 center-item display-4"},"Post-About-It"),o.a.createElement("div",{className:"card mb-4"},o.a.createElement("p",{className:"lead p-3"},"Welcome to Post-About-It! This is a site where anyone can add posts about topics, vote and comment on them. Click a category to see all its posts or click a post below to view its content")),o.a.createElement("h2",{className:"mb-4 center-item display-4"},"Categories"),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},e),o.a.createElement("hr",null),o.a.createElement("h2",{className:"mb-4 center-item display-4"},"Posts"),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},t),o.a.createElement("hr",null))}}]),t}(n.Component),ce=Object(f.b)(function(e){var t=e.category,a=e.post;return{categories:t.allCategories,categoriesLoading:t.loading,postsLoading:a.loading,posts:a.allPosts}},{getAllCategories:B,getAllPosts:function(){return function(e){e(Q()),W.a.get("/api/posts").then(function(t){return e({type:A,payload:t.data})}).catch(function(t){return e({type:A,payload:null})})}},setActiveCategory:J,clearActivePostComments:Z,clearActivePost:z})(oe),re=a(16),se=a(7),ie=a(78),le=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={title:"",text:"",author:"",category:"none"},e.categoryChange=e.categoryChange.bind(Object(se.a)(Object(se.a)(e))),e.changeInput=e.changeInput.bind(Object(se.a)(Object(se.a)(e))),e.submitPost=e.submitPost.bind(Object(se.a)(Object(se.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"submitPost",value:function(e){e.preventDefault();var t={title:this.state.title,text:this.state.text,author:this.state.author,category:this.state.category};console.log(t),this.props.createPost(t,this.props.history)}},{key:"componentDidMount",value:function(){this.props.getAllCategories()}},{key:"changeInput",value:function(e){this.setState(Object(re.a)({},e.target.name,e.target.value))}},{key:"categoryChange",value:function(e){this.setState({category:e.target.value})}},{key:"render",value:function(){var e,t=this.props,a=t.categories,n=t.errors;return e=null===a?o.a.createElement("h1",null,"Loading"):o.a.createElement("form",{onSubmit:this.submitPost},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:te()("form-control form-control-lg",{"is-invalid":n.title}),name:"title",placeholder:"Post Title",value:this.state.title,onChange:this.changeInput,id:""}),n.title&&o.a.createElement("div",{className:"invalid-feedback"},n.title)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:te()("form-control form-control-lg",{"is-invalid":n.text}),name:"text",placeholder:"Post Text",value:this.state.text,onChange:this.changeInput}),n.text&&o.a.createElement("div",{className:"invalid-feedback"},n.text)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:te()("form-control form-control-lg",{"is-invalid":n.author}),name:"author",placeholder:"Author",value:this.state.author,onChange:this.changeInput,id:""}),n.author&&o.a.createElement("div",{className:"invalid-feedback"},n.author)),o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{value:this.state.category,className:te()("form-control form-control-lg",{"is-invalid":n.category}),onChange:this.categoryChange},a.map(function(e,t){return o.a.createElement("option",{value:e.name,key:t,defaultValue:"none"},e.name)})),n.category&&o.a.createElement("div",{className:"invalid-feedback"},n.category)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",className:"btn btn-large btn-primary"}))),o.a.createElement("div",{className:""},e)}}]),t}(n.Component),me=Object(f.b)(function(e){var t=e.category,a=e.errors;return{categories:t.allCategories.concat({name:"none"}),errors:a}},{getAllCategories:B,createPost:function(e,t){return function(a){a(K()),W.a.post("/api/posts",e).then(function(a){return t.push("/category/".concat(e.category))}).catch(function(e){return a({type:v,payload:e.response.data})})}}})(Object(ie.a)(le)),ue=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"display-4 center-item"},"Create page"),o.a.createElement("hr",{className:"focus-post mb-4"}),o.a.createElement(me,null))}}]),t}(n.Component),pe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props.post;return e=t.deleted?"Post Deleted":t.title,o.a.createElement("div",{className:"card card-body mx-3 my-3 link-width"},o.a.createElement(R.a,{to:"/post/".concat(t._id),className:te()("btn btn-lg",{"btn-warning":"movies"===t.category},{"btn-danger":"books"===t.category},{"btn-primary":"games"===t.category})},e))}}]),t}(n.Component),de=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.clearActivePostComments(),this.props.clearActivePost(),this.props.setActiveCategory(this.props.match.params.category),this.props.getCategoryPosts(this.props.match.params.category)}},{key:"render",value:function(){var e,t=this.props,a=t.categoryPosts,n=t.activeCategory,c=t.postsLoading,r=n.toUpperCase();return e=null===a||c?o.a.createElement("h1",{className:"display-4 center-item"},"Loading Posts..."):a.map(function(e,t){return o.a.createElement(pe,{key:t,post:e})}),o.a.createElement("div",{className:"container"},o.a.createElement("h2",{className:"mb-4 center-item display-4"},r),o.a.createElement("hr",{className:"focus-post mb-4"}),o.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},e))}}]),t}(n.Component),he=Object(f.b)(function(e){var t=e.category,a=e.post;return{activeCategory:t.activeCategory,categoryPosts:a.activeCategoryPosts,postsLoading:a.loading}},{setActiveCategory:J,getCategoryPosts:function(e){return function(t){t(Q()),W.a.get("/api/categories/".concat(e,"/posts")).then(function(e){return t({type:w,payload:e.data})}).catch(function(e){return t({type:w,payload:null})})}},clearActivePostComments:Z,clearActivePost:z})(de),fe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"upVote",value:function(e){console.log(e),this.props.changeCommentVote(e,{vote:"up"})}},{key:"downVote",value:function(e){console.log(e),this.props.changeCommentVote(e,{vote:"down"})}},{key:"deleteComment",value:function(e){this.props.deleteComment(e)}},{key:"render",value:function(){var e,t=this,a=this.props.comment;return e=a.deleted?o.a.createElement("h1",{className:"lead mb-3"},"This comment has been deleted"):o.a.createElement("div",null,o.a.createElement("div",{className:" d-flex flex-column align-items-start mb-3"},o.a.createElement("h2",{className:"lead"},a.text),o.a.createElement("em",null,"By ",a.author)),o.a.createElement("div",{className:"d-flex flex-row align-items-center"},o.a.createElement("button",{className:"btn btn-light bg-success",onClick:function(){return t.upVote(a._id)}},o.a.createElement("i",{className:"fas fa-angle-up text-white"})),o.a.createElement("button",{className:"btn btn-light mr-2 bg-danger",onClick:function(){return t.downVote(a._id)}},o.a.createElement("i",{className:"fas fa-angle-down text-white"})),o.a.createElement(R.a,{className:"btn btn-light mr-2 bg-info text-white",to:"/edit-comment/".concat(a._id)},"Edit"),o.a.createElement("button",{className:"btn bt-light bg-warning mr-2",onClick:function(){return t.deleteComment(a._id)}},"Delete"),o.a.createElement("span",{className:"lead"},"Comment score: ",a.voteScore))),o.a.createElement("div",{className:"card card-body comment-frame my-2"},e)}}]),t}(n.Component),be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).changeCommentVote=function(e,t){var n=a.props.parentId;a.props.changeCommentVote(e,t,n)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.comments,c=a.loading;return e=null===n||c?o.a.createElement("h1",{className:"display-4 center-item"},"Loading"):n.map(function(e){return o.a.createElement(fe,{key:e._id,comment:e,deleteComment:t.props.deleteComment,changeCommentVote:t.props.changeCommentVote})}),o.a.createElement("div",{className:"center-item mb-4"},o.a.createElement("div",{className:"d-flex align-items-center flex-column m-1"},e))}}]),t}(n.Component),ge=Object(f.b)(function(e){var t=e.comment;return{comments:t.activePostComments,loading:t.loading}},{changeCommentVote:function(e,t,a){return function(a){W.a.post("/api/comments/".concat(e),t).then(function(e){return a({type:O,payload:e.data})}).catch(function(e){return a({type:O,payload:null})})}},deleteComment:function(e){return function(t){W.a.delete("/api/comments/".concat(e)).then(function(e){return t({type:O,payload:e.data})}).catch(function(e){return t({type:O,payload:null})})}}})(be),ye=a(39),ve=a.n(ye),Ee=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"upVote",value:function(e){console.log(e),this.props.changeVoteScore(e,{vote:"up"})}},{key:"downVote",value:function(e){console.log(e),this.props.changeVoteScore(e,{vote:"down"})}},{key:"deletePost",value:function(e){this.props.deletePost(e),console.log(e)}},{key:"render",value:function(){var e,t=this,a=this.props.post;return e=a.deleted?o.a.createElement("h2",{className:"display-4 my-4"},"This post has been deleted."):o.a.createElement("div",null,o.a.createElement("h1",{className:"display-4"},a.title),o.a.createElement("hr",{className:"focus-post mb-4"}),o.a.createElement("div",{className:"card d-flex p-4 center-item"},o.a.createElement("p",{className:"lead"},a.text),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("span",{className:"lead mr-1"},"Made on ",o.a.createElement(ve.a,{format:"MMMM Do YYYY"},a.date)),o.a.createElement("p",{className:"lead"},"By ",a.author)),o.a.createElement("div",{className:"d-flex flex-row align-items-center"},o.a.createElement("button",{className:"btn btn-light bg-success",onClick:function(){return t.upVote(a._id)}},o.a.createElement("i",{className:"fas fa-angle-up text-white"})),o.a.createElement("button",{className:"btn btn-light mr-2 bg-danger",onClick:function(){return t.downVote(a._id)}},o.a.createElement("i",{className:"fas fa-angle-down text-white"})),o.a.createElement(R.a,{to:"/post-edit/".concat(a._id),className:"btn btn-info mr-2"},"Edit"),o.a.createElement("button",{className:"btn btn-warning btn-large mr-2",onClick:function(){return t.deletePost(a._id)}},"Delete"),o.a.createElement("span",{className:"lead"},"This post has a net score of: ",a.voteScore))),o.a.createElement("hr",{className:"focus-post mb-4"})),o.a.createElement("div",{className:"center-item"},e)}}]),t}(n.Component),Oe=Object(f.b)(function(e){return{post:e.post.activePost}},{changeVoteScore:F,deletePost:function(e){return function(t){W.a.delete("/api/posts/".concat(e)).then(function(e){return t({type:S,payload:e.data})}).catch(function(e){return t({type:S,payload:null})})}}})(Ee),je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object(re.a)({},e.target.name,e.target.value))},a.state={text:"",author:"",errors:{}},a.onChange=a.onChange.bind(Object(se.a)(Object(se.a)(a))),a.onSubmit=a.onSubmit.bind(Object(se.a)(Object(se.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.parentId,a={text:this.state.text,author:this.state.author,parentId:t};this.props.addComment(a),this.setState({text:"",author:""})}},{key:"render",value:function(){var e=this.props.post;return o.a.createElement("div",null,!e.deleted&&o.a.createElement("div",{className:"card card-body comment-frame"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("textarea",{type:"text",name:"text",value:this.state.text,className:"form-control form-control-lg",placeholder:"Type comment here",onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",name:"author",value:this.state.author,className:"form-control form-control-lg",placeholder:"Author",onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",className:"btn btn-large btn-primary"})))))}}]),t}(n.Component),Ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).upVoteScore=function(e,t){a.props.changeVoteScore(e,t)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.setActivePost(this.props.match.params.id),this.props.getActivePostComments(this.props.match.params.id)}},{key:"render",value:function(){var e,t=this.props,a=t.post,n=t.loadingPost,c=this.props.match.params.id;return e=null===a||n?o.a.createElement("h1",{className:"display-4 center-item"},"Loading Post"):o.a.createElement(Oe,{post:a}),o.a.createElement("div",{className:"container"},e,o.a.createElement(je,{parentId:c,post:a,addComment:this.props.addComment}),o.a.createElement(ge,{parentId:c}))}}]),t}(n.Component),Ne=Object(f.b)(function(e){var t=e.post;return{post:t.activePost,loadingPost:t.loading}},{setActivePost:q,changeVoteScore:F,getActivePostComments:X,addComment:function(e){return function(t){t($),W.a.post("/api/comments",e).then(function(e){return t({type:O,payload:e.data})}).catch(function(e){return t({type:O,payload:null})})}}})(Ce),xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={title:"",text:""},a.changeInput=a.changeInput.bind(Object(se.a)(Object(se.a)(a))),a.modifyPost=a.modifyPost.bind(Object(se.a)(Object(se.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(function(){return{text:e.text,title:e.title}})}},{key:"modifyPost",value:function(e){e.preventDefault(),console.log(this.state);var t={title:this.state.title,text:this.state.text};this.props.editPost(t,this.props.id,this.props.history)}},{key:"changeInput",value:function(e){this.setState(Object(re.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.props,t=e.post,a=e.errors;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h1",{className:"display-4 center-item mb-2"},t.title),o.a.createElement("p",{className:"lead mb-4 center-item"},"Type in your changes and press submit."),o.a.createElement("hr",{className:"focus-post mb-4"}),o.a.createElement("form",{action:"submit",className:"my-3",onSubmit:this.modifyPost},o.a.createElement("div",{className:"form-group my-4"},o.a.createElement("input",{value:this.state.title,type:"text",name:"title",className:te()("form-control form-control-lg mb-3",{"is-invalid":a.title}),onChange:this.changeInput}),a.title&&o.a.createElement("div",{className:"invalid-feedback"},a.title)),o.a.createElement("div",{className:"form-group my-4"},o.a.createElement("textarea",{value:this.state.text,type:"text",name:"text",className:te()("form-control form-control-lg",{"is-invalid":a.text}),onChange:this.changeInput}),a.text&&o.a.createElement("div",{className:"invalid-feedback"},a.text)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",className:"btn btn-large btn-primary"})))))}}]),t}(n.Component),Pe=Object(f.b)(function(e){return{errors:e.errors}},{editPost:function(e,t,a){return function(n){n(K()),W.a.put("/api/posts/".concat(t),e).then(function(e){return a.push("/post/".concat(t))}).catch(function(e){return n({type:v,payload:e.response.data})})}}})(Object(ie.a)(xe)),ke=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.setActivePost(this.props.match.params.id),this.props.getActivePostComments(this.props.match.params.id)}},{key:"render",value:function(){var e,t=this.props,a=t.post,n=t.loadingPost,c=this.props.match.params.id;return e=null===a||n?o.a.createElement("h1",{className:"display-4 center-item"},"Loading Post"):o.a.createElement(Pe,{post:a,id:c,title:a.title,text:a.text}),o.a.createElement("div",{className:"container"},e)}}]),t}(n.Component),Ae=Object(f.b)(function(e){var t=e.post;return{post:t.activePost,loadingPost:t.loading}},{setActivePost:q,getActivePostComments:X})(ke);function Se(){return o.a.createElement("div",null,o.a.createElement("h1",{className:"Display-1"},"Page not found..."))}var we=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={text:""},a.changeInput=a.changeInput.bind(Object(se.a)(Object(se.a)(a))),a.modifyComment=a.modifyComment.bind(Object(se.a)(Object(se.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(function(){return{text:e.text}})}},{key:"modifyComment",value:function(e){e.preventDefault(),console.log(this.state);var t={text:this.state.text};this.props.editComment(t,this.props.id,this.props.parentId,this.props.history)}},{key:"changeInput",value:function(e){this.setState(Object(re.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.props.errors;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h1",{className:"display-4 center-item"},"Edit your post and delete."),o.a.createElement("hr",{className:"focus-post mb-4"}),o.a.createElement("div",{className:"comment-frame"},o.a.createElement("form",{action:"submit",onSubmit:this.modifyComment},o.a.createElement("div",{className:"form-group"},o.a.createElement("textarea",{value:this.state.text,type:"text",name:"text",className:te()("form-control form-control-lg",{"is-invalid":e.text}),onChange:this.changeInput}),e.text&&o.a.createElement("div",{className:"invalid-feedback"},e.text)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",className:"btn btn-large btn-primary"}))))))}}]),t}(n.Component),Te=Object(f.b)(function(e){return{errors:e.errors}},{editComment:function(e,t,a,n){return function(o){W.a.put("/api/comments/".concat(t),e).then(function(e){return o({type:C,payload:null})}).then(function(e){return n.push("/post/".concat(a))}).catch(function(e){return o({type:C,payload:null})})}}})(Object(ie.a)(we)),Ie=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.setEditComment(this.props.match.params.id)}},{key:"render",value:function(){var e,t=this.props,a=t.comment,n=t.loading;return e=null===a||n?o.a.createElement("h1",{className:"display-4 center-item"},"Loading Comment"):o.a.createElement(Te,{comment:a,id:a._id,parentId:a.parentId,text:a.text}),o.a.createElement("div",{className:"container"},e)}}]),t}(n.Component),_e=Object(f.b)(function(e){var t=e.comment;return{comment:t.editComment,loading:t.loading}},{setEditComment:function(e){return function(t){W.a.get("/api/comments/".concat(e)).then(function(e){return t({type:C,payload:e.data})}).catch(function(e){return t({type:C,payload:null})})}}})(Ie),Ve=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,{store:M},o.a.createElement(p.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(Y,null),o.a.createElement(d.a,null,o.a.createElement(h.a,{exact:!0,path:"/",component:ce}),o.a.createElement(h.a,{path:"/create",component:ue}),o.a.createElement(h.a,{path:"/category/:category",component:he}),o.a.createElement(h.a,{path:"/post/:id",component:Ne}),o.a.createElement(h.a,{path:"/post-edit/:id",component:Ae}),o.a.createElement(h.a,{path:"/edit-comment/:id",component:_e}),o.a.createElement(h.a,{component:Se})))))}}]),t}(n.Component);r.a.render(o.a.createElement(Ve,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.309a8f27.chunk.js.map